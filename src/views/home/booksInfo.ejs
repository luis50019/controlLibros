<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biblioteca - Lista de Libros</title>
    <link rel="stylesheet" href="/styles/bookInfo.css" />
  </head>

  <body>
    <header>
      <div class="container">
        <nav>
          <div class="logo">Libro<span>Track</span></div>
          <ul>
            <li><a href="/">Inicio</a></li>
            <li><a href="/studentsView">Estudiantes</a></li>
            <li><a href="/booksView" class="active">Libros</a></li>
            <li><a href="/about">Acerca de</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="container">
      <div class="page-header">
        <h1 class="page-title">Catálogo de Libros</h1>
        <button class="btn btn-success" id="add-book-btn">Agregar Libro</button>
      </div>

      <div class="filters">
        <div class="filter-group">
          <div class="filter-control">
            <label for="search-id">Buscar por ID</label>
            <input type="text" id="search-id" placeholder="ID del libro" />
            <button class="btn" id="btn-search-id">Buscar</button>
          </div>
          <div class="filter-control">
            <label for="search-year">Buscar por Año</label>
            <input type="number" id="search-year" placeholder="Ej: 2022" />
            <button class="btn" id="btn-search-year">Buscar</button>
          </div>
          <div class="filter-control">
            <label for="search-edition">Buscar por Edición</label>
            <input type="number" id="search-edition" placeholder="Ej: 1" />
            <button class="btn" id="btn-search-edition">Buscar</button>
          </div>
          <div class="filter">
            <button class="btn" id="btn-allbooks">Todos los libros</button>
          </div>
        </div>
      </div>

      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Cargando libros...</p>
      </div>

      <div class="books-grid" id="books-container">
        <!-- Los libros se cargarán aquí dinámicamente -->
      </div>
    </main>

    <!-- Modal para agregar/editar libros -->
    <div class="modal" id="book-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="modal-title">Agregar Nuevo Libro</h2>
          <button class="close-modal">&times;</button>
        </div>
        <form id="book-form">
          <input type="hidden" id="book-id" />

          <div class="form-group">
            <label for="title">Título *</label>
            <input type="text" id="title" required />
          </div>

          <div class="form-group">
            <label for="author">Autor *</label>
            <input type="text" id="author" required />
          </div>

          <div class="form-group">
            <label for="year">Año de publicación *</label>
            <input type="number" id="year" required />
          </div>

          <div class="form-group">
            <label for="edition">Número de edición *</label>
            <input type="number" id="edition" required />
          </div>

          <div class="form-group">
            <label for="genre">Género *</label>
            <select id="genre" required>
              <option value="">Seleccione un género</option>
              <option value="Ficción">Ficción</option>
              <option value="No ficción">No ficción</option>
              <option value="Ciencia ficción">Ciencia ficción</option>
              <option value="Fantasía">Fantasía</option>
              <option value="Misterio">Misterio</option>
              <option value="Romance">Romance</option>
              <option value="Histórico">Histórico</option>
              <option value="Biografía">Biografía</option>
              <option value="Científico">Científico</option>
            </select>
          </div>

          <div class="form-group">
            <label for="description">Descripción *</label>
            <textarea id="description" rows="4" required></textarea>
          </div>

          <div class="form-group" style="text-align: right">
            <button type="button" class="btn btn-danger" id="cancel-btn">
              Cancelar
            </button>
            <button type="submit" class="btn btn-success">Guardar Libro</button>
          </div>
        </form>
      </div>
    </div>

    <script src="/js/metodosBooks.js"></script>
  </body>
</html>
